<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Modules</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Modules</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(epicmodel)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span></code></pre></div>
<p>Modules are groups, to which steps can be assigned, e.g., you might
assign all steps, in which the immune system is involved, to module
“immune system”. With modules, it is easier to see if certain groups are
involved in sufficient causes, e.g., if there are sufficient causes
without any involvement of the immune system.</p>
<div id="define-modules" class="section level1">
<h1>Define modules</h1>
<p>Modules are defined during steplist creation. You don’t have to use
modules, but if you do, every step has to be part of exactly one module.
During steplist checking, it leads to an error if only some steps have
been assigned a module. For quick removal of all modules, use
<code>remove_all_modules()</code>. Once the SCC model has been created,
the information, if modules are used or not, is saved in element
<code>sc_use_modules</code> of <code>epicmodel_scc</code> class
objects.</p>
</div>
<div id="plot-steplist" class="section level1">
<h1>Plot steplist</h1>
<p>After successful checking, steplists can be plotted to see all steps
chained together. By default, if modules have been used, nodes in the
graph are colored according to their module with all steps in the same
module having the same color. Use arguments <code>modules</code> and
<code>module_colors</code> to turn coloring off and change colors,
respectively.</p>
</div>
<div id="mechanisms" class="section level1">
<h1>Mechanisms</h1>
<p>Since mechanisms and steplist plotting works similarly,
<code>mechanism()</code> offers arguments <code>modules</code> and
<code>module_colors</code> as well and they work similarly to
<code>plot.epicmodel_steplist_checked()</code>.</p>
</div>
<div id="scc-model-summary" class="section level1">
<h1>SCC model summary</h1>
<p>When printing a SCC model that uses modules, the output also reports
how many steps in the sufficient cause-specific mechanism belong to each
module. Let’s look at the built-in <code>steplist_party</code> as an
example. First, we load the steplist, make some adjustments that would
cause steplist checking to fail, and finally run
<code>check_steplist()</code>. Next, we create the SCC model from the
checked steplist and print the model.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>steplist_checked <span class="ot">&lt;-</span> steplist_party <span class="sc">%&gt;%</span> <span class="fu">remove_na</span>() <span class="sc">%&gt;%</span> <span class="fu">remove_segment</span>(<span class="st">&quot;d4&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">check_steplist</span>()</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>scc_model <span class="ot">&lt;-</span> steplist_checked <span class="sc">%&gt;%</span> <span class="fu">create_scc</span>()</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>scc_model</span></code></pre></div>
<pre><code>#&gt; 
#&gt; ── Outcome Definitions ──
#&gt; 
#&gt; • Emma is coming and food is fine and Laura is coming and weather is fine
#&gt; 
#&gt; ── SC 1 ──
#&gt; 
#&gt; ✔ Always sufficient
#&gt; Component causes:
#&gt; • Emma is invited
#&gt; • Laura is invited
#&gt; • Birthday party takes place on a weekday
#&gt; • Birthday party takes place at a karaoke bar
#&gt; 
#&gt; Modules
#&gt; • guests: 40% (4/10)
#&gt; • orga: 40% (4/10)
#&gt; • food: 20% (2/10)
#&gt; 
#&gt; ── SC 2 ──
#&gt; 
#&gt; ✔ Always sufficient
#&gt; Component causes:
#&gt; • Ana is invited
#&gt; • Emma is invited
#&gt; • Laura is invited
#&gt; • Birthday party takes place at a restaurant
#&gt; 
#&gt; Modules
#&gt; • guests: 60% (6/10)
#&gt; • orga: 30% (3/10)
#&gt; • food: 10% (1/10)
#&gt; 
#&gt; ── SC 3 ──
#&gt; 
#&gt; ! Sufficiency depends on order of occurrence
#&gt; Component causes:
#&gt; • Ana is invited
#&gt; • Emma is invited
#&gt; • Laura is invited
#&gt; • Birthday party takes place on a weekday
#&gt; • No rain
#&gt; • Birthday party takes place at the beach
#&gt; 
#&gt; Sufficient orders of occurrence:
#&gt; • Ana is invited -&gt; birthday party takes place on a weekday
#&gt; 
#&gt; Modules
#&gt; • guests: 46% (6/13)
#&gt; • orga: 38% (5/13)
#&gt; • food: 15% (2/13)
#&gt; </code></pre>
<p>From the output, we can see that, e.g., sufficient cause 1 (SC 1)
includes 10 steps in its minimally sufficient mechanism from component
causes to the outcome of interest, of which 4 have been assigned to
module “guests”, 4 have been assigned to module “orga”, and 2 have been
assigned to module “food”.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
